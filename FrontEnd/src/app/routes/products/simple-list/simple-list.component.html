<pro-header [title]="'产品列表(Simple Table)'"></pro-header>

<nz-card [nzBordered]="false">
    <ng-template #body>
      <form nz-form (ngSubmit)="st.load()" [nzLayout]="'inline'">
        <div nz-row [nzGutter]="24">
            <div nz-col [nzSpan]="8">
                <div nz-form-item nz-row>
                    <div nz-form-label>
                        <label for="name">产品名称</label>
                    </div>
                    <div nz-form-control>
                        <nz-input [(ngModel)]="params.name" name="name" [nzPlaceHolder]="'请输入'" nzId="name" [nzSize]="'large'"></nz-input>
                    </div>
                </div>
            </div>
            <div nz-col [nzSpan]="_expandForm ? 24 : 8" [class.text-right]="_expandForm">
                <button nz-button type="submit" [nzType]="'primary'" [nzSize]="'large'" [nzLoading]="_loading">查询</button>
                <button nz-button type="reset" (click)="_refreshData(true)" [nzSize]="'large'">重置</button>
            </div>
        </div>
    </form>
    </ng-template>
</nz-card>

<nz-card nzTitle="" [nzBordered]="false">
  <ng-template #extra>
    <button nz-button (click)="st.export()" [nzType]="'primary'" [nzSize]="'small'">Export</button>
  </ng-template>
  <ng-template #body>
    <simple-table #st [data]="url" [columns]="columns" [ps]="10" [reqReName]="{ ps: 'results', pi: 'page'}" (change)="change($event)"
      [isPageIndexReset]="true" [resReName]="{list: 'results', total: 'info.total' }" [extraParams]="params"></simple-table>
    <button (click)="st.load()">加载数据</button>
    <button (click)="st.load(2)">翻页跳转</button>
    <button (click)="st.reset()">重置</button>
  </ng-template>
</nz-card>